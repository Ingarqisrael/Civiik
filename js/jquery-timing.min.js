(function(e,m){var B="__timeouts",F="__intervals",I=undefined,j=true,s="fx",D={};function a(J){return typeof J=="function"}function r(J){return typeof J=="string"}function i(L,K){L=L||[];for(var J=0;J<L.length;J++){if(L[J]===K){if(J<L.length-1){L[J]=L.pop();J--}else{L.pop()}}}return L}function A(K,J){K=K||[];K.push(J);return K}function l(M,Q,O){var N={f:j,n:{}},J={k:N,d:M,j:Q,i:O},K={b:J,l:[],m:m.setTimeout(function(){K.m=I;k(K,N)},0)},P={},L;for(L in M){if(a(M[L])){(function(R){P[R]=function(){J=J.k={k:N,d:N.d,j:R,i:arguments};if(K.b.f){K.b=J;k(K)}return P}})(L)}}k(K);return P}function k(K,O){if(O){if(O.n){O.n.h=j;if(K.b!=O){return}}else{return O.n={h:j}}}for(var M,L,N,J;M=K.b;){if(M.f){if(K.l[0]&&!K.m){K.b=K.l[0];K.b.e++;continue}break}J=M.n;if(J){if(J.h&&!J.g){z(K)}else{break}}L=M.d;N=L[M.j];if(N==y){(J&&J.h?g:o)(K,M)}else{if(N==t){(J&&J.h?w:C)(K,M)}else{if(N==E){M.c=M.i[0];z(K)}else{if(N==n){(J&&J.h?H:u)(K,M)}else{if(N==c&&K.l[0]){if(d(K,M)){z(K);v(K)}else{K.b=K.l[0];K.b.e++;continue}}else{L=N.apply(L,M.i);z(K)}}}}}K.b.d=L}}function z(J,K){K=J.b;if(a(K.c)){x(J,K.d,K.c)}J.b=K.k}function x(J,L,M,K){K=[];e.each(J.l,function(){K.push(this.e)});return M.apply(L,K)}function o(L,M,K){function J(){k(L,M)}if(a(M.i[0])){M.c=M.i[0]}else{K=M.i[0];M.c=M.i[1]}M.n=r(K)?{o:1,a:J,d:M.d.bind(K,J),p:K}:{o:3,a:J,p:m.setTimeout(J,Math.max(0,K))};M.d.each(function(N,O){e(O).data(B,A(e(O).data(B),M.n))})}function q(J){if(J.o==1){J.d.unbind(J.p,J.a)}if(J.o==3){m.clearTimeout(J.p)}J.g=j}function g(J,K){q(K.n);K.d.each(function(L,M){e(M).data(B,i(e(M).data(B),K.n))});K.n=I}function C(K,M,L,J){if(a(M.i[0])){M.c=M.i[0]}else{L=M.i[0];M.c=M.i[1]}J=M;M.d.queue(L==I?s:L,function(N){k(K,J);J={};N()});M.n=M.n||{}}function w(J,K){K.n=I}function u(L,M,K,N){function J(){k(L,M)}if(a(M.i[0])){M.c=M.i[0]}else{if(a(M.i[1])){K=M.i[0];M.c=M.i[1]}else{K=M.i[0];N=M.i[1];M.c=M.i[2]}}M.n=K==I?{h:j}:r(K)?{o:1,a:J,d:M.d.bind(K,J),p:K,h:N}:{o:2,a:J,p:m.setInterval(J,Math.max(0,K)),h:N};M.d.each(function(O,P){e(P).data(F,A(e(P).data(F),M.n))});M.e=0;L.l.unshift(M)}function H(J,K){K.n.h=!K.n.o}function b(J){if(J.o==1){J.d.unbind(J.p,J.a)}if(J.o==2){m.clearInterval(J.p)}J.g=j}function v(J,K){K=J.l.shift();b(K.n);K.d.each(function(L,M){e(M).data(F,i(e(M).data(F),K.n))});K.n=I}function d(J,K,L){L=K.i[0];if(L==I){L=!K.d.size()}if(a(L)){L=x(J,K.d,L)}if(typeof L=="object"){L=L.toString()}return typeof L=="number"?J.l[0].e>=L-1:L}function y(){return l(this,"wait",arguments)}function G(){return this.each(function(J){J=e(this).data(B);while(J&&J.length){q(J.pop())}})}function n(){return l(this,"repeat",arguments)}function f(){return this.each(function(J){J=e(this).data(F);while(J&&J.length){b(J.pop())}})}function c(){throw".until() method must be used after .repeat() only"}function E(J){J.apply(this);return this}function t(){return l(this,"join",arguments)}function h(J,L,K){if(r(J)){Array.prototype.shift.apply(K)}else{J=""}return L.apply(D[J]=(D[J]||e("<div>").text(J)),K)}function p(M,K){if(r(M)){M=new Function("x","return "+M)}var J=a(K),N=a(M),L=function(O){if(arguments.length){L.value=O;if(J){K(O)}}return L.toString()};L.toString=function(){var O=J?K():L.value;return N?M(O):O};L.$={toString:L.toString};L.mod=function(O){return p(function(P){return P%O},L)};L.plus=function(O){return p(function(P){return P+O},L)};L.neg=function(){return p(function(O){return -O},L)};return L}m.$$=p;e.fn.extend({wait:y,unwait:G,repeat:n,unrepeat:f,until:c,then:E,join:t,$:e});e.extend({wait:function(J){return h(J,y,arguments)},unwait:function(J){return h(J,G,arguments)},repeat:function(J){return h(J,n,arguments)},unrepeat:function(J){return h(J,f,arguments)},then:function(J){return h(J,E,arguments)},join:function(J){return h(J,t,arguments)},$$:p})})(jQuery,window);